<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="common/header.html::header"/>
<style>
    .trans {
        overflow: hidden;
    }
    .trans::after {
        position: absolute;
        bottom: 0;
        left: 0;
        z-index: 2;
        content: '';
        width: 100%;
        height: 50%;
        background: linear-gradient(rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, .7) 20%, rgba(255, 255, 255, 1) 80%)
    }

    .contract {
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }
</style>
<body>
<div th:replace="common/navbar.html::navbar"></div>
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <form>
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="検索ワードを入力…" name="keyword">
                        <div class="input-group-append">
                            <button class="btn btn-primary" type="submit">検索</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <p th:if="isSearching == 'true'">
                検索結果： [[${count}]] 件
            </p>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4" style="padding: 5px;" th:each="item : ${items}" th:object="${item}">
            <div class="card" style="height: 18rem;">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-8" style="width: 10em;">
                            <h5 class="card-title contract" th:text="*{name}"></h5>
                        </div>
                        <div class="col-md-4">
                            <a th:href="@{/items/{id}(id=*{id})}">
                                <button class="btn btn-sm btn-outline-primary">
                                    詳細
                                </button>
                            </a>
                        </div>
                    </div>
                    <h6 class="card-subtitle">[[*{price}]] Yen</h6>
                    <p class="card-text trans mt-2" th:text="*{description}" style="height: 12rem;"></p>
                </div>
            </div>
        </div>
    </div>
</div>
<div style="position: fixed; left: 5px; bottom: 5px;">
    <form action="/init" method="get">
        <button type="submit" class="btn btn-sm btn-secondary">Reset</button>
    </form>
</div>
</body>
</html>